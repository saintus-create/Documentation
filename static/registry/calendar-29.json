{
	"$schema": "https://shadcn-svelte.com/schema/registry-item.json",
	"name": "calendar-29",
	"type": "registry:block",
	"devDependencies": [
		"@lucide/svelte@^0.544.0",
		"chrono-node@^2.8.4",
		"@internationalized/date@^3.8.1"
	],
	"registryDependencies": [
		"label",
		"popover",
		"button",
		"calendar",
		"input"
	],
	"files": [
		{
			"content": "<script lang=\"ts\">\n\timport { Label } from \"$UI$/label/index.js\";\n\timport * as Popover from \"$UI$/popover/index.js\";\n\timport { Button } from \"$UI$/button/index.js\";\n\timport { Calendar } from \"$UI$/calendar/index.js\";\n\timport { Input } from \"$UI$/input/index.js\";\n\timport CalendarIcon from \"@lucide/svelte/icons/calendar\";\n\timport { parseDate } from \"chrono-node\";\n\timport { CalendarDate, getLocalTimeZone, type DateValue } from \"@internationalized/date\";\n\timport { untrack } from \"svelte\";\n\n\tfunction formatDate(date: DateValue | undefined) {\n\t\tif (!date) return \"\";\n\n\t\treturn date.toDate(getLocalTimeZone()).toLocaleDateString(\"en-US\", {\n\t\t\tday: \"2-digit\",\n\t\t\tmonth: \"long\",\n\t\t\tyear: \"numeric\",\n\t\t});\n\t}\n\n\tconst id = $props.id();\n\n\tlet open = $state(false);\n\tlet inputValue = $state(\"In 2 days\");\n\tlet value = $state<DateValue | undefined>(\n\t\tuntrack(() => {\n\t\t\tconst date = parseDate(inputValue);\n\t\t\tif (date)\n\t\t\t\treturn new CalendarDate(date.getFullYear(), date.getMonth() + 1, date.getDate());\n\t\t\treturn undefined;\n\t\t})\n\t);\n</script>\n\n<div class=\"flex flex-col gap-3\">\n\t<Label for=\"{id}-date\" class=\"px-1\">Schedule Date</Label>\n\t<div class=\"relative flex gap-2\">\n\t\t<Input\n\t\t\tid=\"date\"\n\t\t\tbind:value={\n\t\t\t\t() => inputValue,\n\t\t\t\t(v) => {\n\t\t\t\t\tinputValue = v;\n\t\t\t\t\tconst date = parseDate(v);\n\t\t\t\t\tif (date) {\n\t\t\t\t\t\tvalue = new CalendarDate(\n\t\t\t\t\t\t\tdate.getFullYear(),\n\t\t\t\t\t\t\tdate.getMonth() + 1,\n\t\t\t\t\t\t\tdate.getDate()\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tplaceholder=\"Tomorrow or next week\"\n\t\t\tclass=\"bg-background pe-10\"\n\t\t\tonkeydown={(e) => {\n\t\t\t\tif (e.key === \"ArrowDown\") {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\topen = true;\n\t\t\t\t}\n\t\t\t}}\n\t\t/>\n\t\t<Popover.Root bind:open>\n\t\t\t<Popover.Trigger id=\"{id}-date-picker\">\n\t\t\t\t{#snippet child({ props })}\n\t\t\t\t\t<Button\n\t\t\t\t\t\t{...props}\n\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\tclass=\"absolute end-2 top-1/2 size-6 -translate-y-1/2\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<CalendarIcon class=\"size-3.5\" />\n\t\t\t\t\t\t<span class=\"sr-only\">Select date</span>\n\t\t\t\t\t</Button>\n\t\t\t\t{/snippet}\n\t\t\t</Popover.Trigger>\n\t\t\t<Popover.Content class=\"w-auto overflow-hidden p-0\" align=\"end\">\n\t\t\t\t<Calendar\n\t\t\t\t\ttype=\"single\"\n\t\t\t\t\tbind:value\n\t\t\t\t\tcaptionLayout=\"dropdown\"\n\t\t\t\t\tonValueChange={(v) => {\n\t\t\t\t\t\tinputValue = formatDate(v);\n\t\t\t\t\t\topen = false;\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</Popover.Content>\n\t\t</Popover.Root>\n\t</div>\n\t<div class=\"text-muted-foreground px-1 text-sm\">\n\t\tYour post will be published on\n\t\t<span class=\"font-medium\">{formatDate(value)}</span>.\n\t</div>\n</div>\n",
			"type": "registry:component",
			"target": "calendar-29.svelte"
		}
	]
}